
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>config.ru and Setting Your 404 Page - My Octopress Blog</title>
  <meta name="author" content="Vincent Alfieri">

  
  <meta name="description" content="config.ruNot the Russian website This file is required when using any type of Rack or Rails app. Instead of writing a script to start an application &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://makafis.github.io/blog/2015/06/30/config-dot-ru-and-setting-your-404-page/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="makafis.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">config.ru and Setting Your 404 Page</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-30T17:54:56-04:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>5:54 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><h2>config.ru<sub>Not the Russian website</sub></h2>


<p>This file is required when using any type of Rack or Rails app.</p>

<p>Instead of writing a script to start an application you can use Shotgun or Rackup to automatically launch the stack you have inside of your config.ru file.  The content of this file will tell the Rack::Builder what middleware should be used and in what order.</p>

<p>Contents:
You should require your environment.
Next you should list your middleware stack. The lowest level of the stack uses the RUN command.
All other stack controllers you wish to use are listed with the USE command.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">use</span> <span class="no">AnothernotsobigController</span>
</span><span class='line'><span class="n">use</span> <span class="no">AnotherController</span>
</span><span class='line'><span class="n">run</span> <span class="no">ApplicationController</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can also change the port you run your application on during test.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">shotgun</span> <span class="o">--</span><span class="n">port</span><span class="o">=</span><span class="mi">6666</span>
</span></code></pre></td></tr></table></div></figure>




<h2>Creating your own custom 404 page in Sinatra!!!!!</h2>


<p>I always wanted a slick and clever 404 page.</p>

<p>Its pretty simple to implement.</p>

<p>Sooooo inside of your main ApplicationController
Just add the following code!</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">set</span> <span class="ss">:show_exceptions</span><span class="p">,</span> <span class="kp">false</span>
</span><span class='line'><span class="n">not_found</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">status</span> <span class="mi">404</span>
</span><span class='line'>  <span class="n">erb</span> <span class="ss">:&#39;404&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>A little explanation for line 1. Since we work in the Development environment the 404 page will never appear. To fix this you can either change environment in the environment.rb file or you can just change the :show_exceptions value to false.</p>

<p>Now you must create a &lsquo;404&rsquo; erb file. This is simple HTML so you should already know how to do that. If not. Googles!</p>

<p>And now whenever someone goes to a page that does not exist you will get an awesome 404 page.
<img src="http://httpstatusrappers.com/images/404.png" /></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Vincent Alfieri</span></span>

      




<time class='entry-date' datetime='2015-06-30T17:54:56-04:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>5:54 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://makafis.github.io/blog/2015/06/30/config-dot-ru-and-setting-your-404-page/" data-via="" data-counturl="http://makafis.github.io/blog/2015/06/30/config-dot-ru-and-setting-your-404-page/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/06/16/my-first-blog-post-ever-and-my-horrible-understanding-of-regex/" title="Previous Post: my first blog post ever and my horrible understanding of regex">&laquo; my first blog post ever and my horrible understanding of regex</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/06/30/config-dot-ru-and-setting-your-404-page/">config.ru and Setting Your 404 Page</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/16/my-first-blog-post-ever-and-my-horrible-understanding-of-regex/">My First Blog Post Ever and My Horrible Understanding of Regex</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/02/my-first-post-on-octopress/">My First Post on Octopress</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Vincent Alfieri -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
